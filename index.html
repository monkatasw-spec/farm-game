<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url("https://i.imgur.com/5ZQ0X6U.jpg") no-repeat center center fixed;
    background-size: cover;
    text-align: center;
}

/* –ó–∞–≥–ª–∞–≤–∏–µ */
h1 {
    color: white;
    margin-top: 20px;
}

/* –ü–∞—Ä–∏ */
#money {
    color: white;
    font-size: 22px;
    margin-bottom: 20px;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Ñ–µ—Ä–º–∞—Ç–∞ */
.farm {
    background: #5a8f3a; /* –ù–ï –µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ */
    padding: 20px;
    border-radius: 20px;
    display: inline-block;
}

/* –ü–æ–ª–µ—Ç–∞ */
.grid {
    display: grid;
    grid-template-columns: repeat(4, 80px);
    gap: 15px;
}

.plot {
    width: 80px;
    height: 80px;
    background: #7b4a12;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    cursor: pointer;
    user-select: none;
}

/* –ë—É—Ç–æ–Ω–∏ */
.buttons {
    margin-top: 20px;
}

button {
    font-size: 18px;
    padding: 10px 15px;
    margin: 5px;
    border-radius: 15px;
    border: none;
    cursor: pointer;
}
</style>
</head>

<body>

<h1>üåæ –§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</h1>
<div id="money">üí∞ 500</div>

<div class="farm">
    <div class="grid" id="grid"></div>
</div>

<div class="buttons">
    <button onclick="selectCrop('üåæ', 50)">–ü—à–µ–Ω–∏—Ü–∞</button>
    <button onclick="selectCrop('ü•ï', 80)">–ú–æ—Ä–∫–æ–≤</button>
    <button onclick="selectCrop('üçÖ', 120)">–î–æ–º–∞—Ç–∏</button>
</div>

<script>
let money = 500;
let selectedCrop = null;
let selectedPrice = 0;

const grid = document.getElementById("grid");
const moneyDiv = document.getElementById("money");

// –ó–∞—Ä–µ–∂–¥–∞–Ω–µ –æ—Ç –ø–∞–º–µ—Ç—Ç–∞
const savedMoney = localStorage.getItem("money");
const savedGrid = JSON.parse(localStorage.getItem("grid"));

if (savedMoney) money = parseInt(savedMoney);
moneyDiv.textContent = "üí∞ " + money;

// –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞
for (let i = 0; i < 12; i++) {
    const plot = document.createElement("div");
    plot.className = "plot";

    if (savedGrid && savedGrid[i]) {
        plot.textContent = savedGrid[i];
    }

    plot.onclick = () => plant(plot, i);
    grid.appendChild(plot);
}

function selectCrop(crop, price) {
    selectedCrop = crop;
    selectedPrice = price;
}

function plant(plot, index) {
    if (!selectedCrop) return;

    if (money < selectedPrice) {
        alert("–ù—è–º–∞—à –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –ø–∞—Ä–∏!");
        return;
    }

    if (plot.textContent !== "") return;

    money -= selectedPrice;
    plot.textContent = selectedCrop;

    saveGame();
    moneyDiv.textContent = "üí∞ " + money;
}

function saveGame() {
    const data = [];
    document.querySelectorAll(".plot").forEach(p => {
        data.push(p.textContent);
    });

    localStorage.setItem("grid", JSON.stringify(data));
    localStorage.setItem("money", money);
}
</script>

</body>
</html>
