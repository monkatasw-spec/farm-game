<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ğ¤ĞµÑ€Ğ¼Ğ° ĞĞ½Ğ»Ğ°Ğ¹Ğ½</title>

<style>
* {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(#4e7c1f, #2e5a12);
  display: flex;
  justify-content: center;
  align-items: center;
}

.game {
  width: 100%;
  max-width: 420px;
  padding: 16px;
  background: #3f6f1f;
}

.header {
  text-align: center;
  color: white;
  margin-bottom: 12px;
}

.money {
  font-size: 18px;
  margin-top: 6px;
}

.farm {
  background: #2e4d14;
  padding: 12px;
  border-radius: 12px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.plot {
  width: 100%;
  aspect-ratio: 1 / 1;
  background: #7a4a1f;
  border-radius: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 28px;
  cursor: pointer;
  user-select: none;
}

.plot.empty {
  background: #7a4a1f;
}

.plot.wheat {
  background: #a97c3a;
}

.plot.carrot {
  background: #b36b2c;
}

.plot.tomato {
  background: #8f2e2e;
}

.buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 14px;
}

.btn {
  flex: 1;
  margin: 0 4px;
  padding: 10px;
  border-radius: 10px;
  background: #f1f1f1;
  border: none;
  font-size: 14px;
  cursor: pointer;
}
</style>
</head>

<body>
<div class="game">

  <div class="header">
    <h2>ğŸŒ¾ Ğ¤ĞµÑ€Ğ¼Ğ° ĞĞ½Ğ»Ğ°Ğ¹Ğ½</h2>
    <div class="money">ğŸ’° <span id="money">500</span></div>
  </div>

  <div class="farm">
    <div class="grid" id="grid"></div>
  </div>

  <div class="buttons">
    <button class="btn" onclick="selectCrop('wheat')">ğŸŒ¾ ĞŸÑˆĞµĞ½Ğ¸Ñ†Ğ°</button>
    <button class="btn" onclick="selectCrop('carrot')">ğŸ¥• ĞœĞ¾Ñ€ĞºĞ¾Ğ²</button>
    <button class="btn" onclick="selectCrop('tomato')">ğŸ… Ğ”Ğ¾Ğ¼Ğ°Ñ‚Ğ¸</button>
  </div>

</div>

<script>
const grid = document.getElementById("grid");
const moneyEl = document.getElementById("money");

let selectedCrop = null;

let game = JSON.parse(localStorage.getItem("farmGame")) || {
  money: 500,
  plots: Array(12).fill(null)
};

function saveGame() {
  localStorage.setItem("farmGame", JSON.stringify(game));
}

function render() {
  grid.innerHTML = "";
  moneyEl.textContent = game.money;

  game.plots.forEach((plot, index) => {
    const div = document.createElement("div");
    div.classList.add("plot");

    if (!plot) {
      div.classList.add("empty");
      div.textContent = "";
    } else {
      div.classList.add(plot.type);
      div.textContent = plot.icon;
    }

    div.onclick = () => clickPlot(index);
    grid.appendChild(div);
  });
}

function selectCrop(crop) {
  selectedCrop = crop;
}

function clickPlot(index) {
  const plot = game.plots[index];

  if (!plot && selectedCrop) {
    plant(index);
    return;
  }

  if (plot && plot.ready) {
    harvest(index);
  }
}

function plant(index) {
  const crops = {
    wheat: { cost: 10, time: 5000, icon: "ğŸŒ±", readyIcon: "ğŸŒ¾", profit: 20 },
    carrot:{ cost: 15, time: 7000, icon: "ğŸŒ±", readyIcon: "ğŸ¥•", profit: 30 },
    tomato:{ cost: 20, time: 9000, icon: "ğŸŒ±", readyIcon: "ğŸ…", profit: 40 }
  };

  const crop = crops[selectedCrop];
  if (game.money < crop.cost) return;

  game.money -= crop.cost;
  game.plots[index] = {
    type: selectedCrop,
    icon: crop.icon,
    ready: false
  };

  saveGame();
  render();

  setTimeout(() => {
    game.plots[index].icon = crop.readyIcon;
    game.plots[index].ready = true;
    saveGame();
    render();
  }, crop.time);
}

function harvest(index) {
  const profits = {
    wheat: 20,
    carrot: 30,
    tomato: 40
  };

  const crop = game.plots[index];
  game.money += profits[crop.type];
  game.plots[index] = null;

  saveGame();
  render();
}

render();
</script>
</body>
</html>
