<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</title>

<style>
* { box-sizing: border-box; font-family: Arial, sans-serif; }

body {
  margin: 0;
  background: url("https://images.unsplash.com/photo-1501004318641-b39e6451bec6") center/cover no-repeat fixed;
  text-align: center;
  color: white;
}

h1 { margin-top: 20px; }

#money {
  font-size: 22px;
  margin-bottom: 20px;
}

.farm {
  display: grid;
  grid-template-columns: repeat(4, 70px);
  gap: 14px;
  justify-content: center;
  margin-bottom: 25px;
}

.plot {
  width: 70px;
  height: 70px;
  background: linear-gradient(#8b5a2b, #6b3f1f);
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 34px;
  cursor: pointer;
  transition: transform 0.2s;
}

.plot:hover { transform: scale(1.05); }

.growing {
  animation: grow 1s ease-out;
}

@keyframes grow {
  from { transform: scale(0.5); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 10px;
  padding-bottom: 30px;
}

button {
  padding: 12px 16px;
  border-radius: 14px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}

button.active {
  background: #4caf50;
  color: white;
}
</style>
</head>

<body>

<h1>üåæ –§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</h1>
<div id="money">üí∞ 500</div>

<div class="farm" id="farm"></div>

<div class="buttons">
  <button onclick="selectCrop('üåæ', 10)">üåæ –ü—à–µ–Ω–∏—Ü–∞</button>
  <button onclick="selectCrop('ü•ï', 15)">ü•ï –ú–æ—Ä–∫–æ–≤</button>
  <button onclick="selectCrop('üçÖ', 20)">üçÖ –î–æ–º–∞—Ç–∏</button>
</div>

<script>
let money = 500;
let selectedCrop = null;
let cropPrice = 0;

const farm = document.getElementById("farm");
const moneyDiv = document.getElementById("money");

let plots = JSON.parse(localStorage.getItem("plots")) || Array(12).fill("");

function save() {
  localStorage.setItem("plots", JSON.stringify(plots));
  localStorage.setItem("money", money);
}

function load() {
  money = Number(localStorage.getItem("money")) || 500;
  updateMoney();
  drawFarm();
}

function updateMoney() {
  moneyDiv.textContent = "üí∞ " + money;
}

function selectCrop(icon, price) {
  selectedCrop = icon;
  cropPrice = price;
  document.querySelectorAll("button").forEach(b => b.classList.remove("active"));
  event.target.classList.add("active");
}

function drawFarm() {
  farm.innerHTML = "";
  plots.forEach((crop, i) => {
    const div = document.createElement("div");
    div.className = "plot";
    div.textContent = crop;
    div.onclick = () => clickPlot(i);
    farm.appendChild(div);
  });
}

function clickPlot(i) {
  if (!plots[i] && selectedCrop && money >= cropPrice) {
    money -= cropPrice;
    plots[i] = selectedCrop;
    updateMoney();
    save();
    drawFarm();
    farm.children[i].classList.add("growing");
  } 
  else if (plots[i]) {
    money += cropPrice * 2;
    plots[i] = "";
    updateMoney();
    save();
    drawFarm();
  }
}

load();
</script>

</body>
</html>
