<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</title>

<style>
* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: url("https://i.imgur.com/6QZ6FQy.jpg") no-repeat center center fixed;
  background-size: cover;
}

/* –û–°–ù–û–í–ï–ù –ö–û–ù–¢–ï–ô–ù–ï–† ‚Äì –ù–ï –ï –ü–†–û–ó–†–ê–ß–ï–ù */
.game {
  background: #6b8f3a; /* –ø–ª—ä—Ç–µ–Ω –∑–µ–ª–µ–Ω —Ñ–æ–Ω */
  min-height: 100vh;
  padding: 20px;
}

/* –ó–ê–ì–õ–ê–í–ò–ï */
.header {
  text-align: center;
  color: white;
  margin-bottom: 10px;
}

.money {
  font-size: 22px;
  margin-top: 5px;
}

/* –ü–û–õ–ï–¢–ê ‚Äì –ú–†–™–°–û–¢–ò–Ø */
.field-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin: 20px auto;
  max-width: 360px;

  background: #6b8f3a; /* –¢–û–í–ê –ú–ê–•–ê –ü–†–û–ó–†–ê–ß–ù–û–¢–û –ú–ï–ñ–î–£ –ü–û–õ–ï–¢–ê–¢–ê */
  padding: 12px;
  border-radius: 16px;
}

.field {
  background: #8b5a2b;
  border-radius: 18px;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  cursor: pointer;
}

/* –ë–£–¢–û–ù–ò */
.controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
}

.crop-btn {
  background: white;
  border-radius: 14px;
  padding: 10px 14px;
  font-size: 18px;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="game">
  <div class="header">
    <h1>üåæ –§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</h1>
    <div class="money">üí∞ <span id="money">500</span></div>
  </div>

  <div class="field-grid" id="grid"></div>

  <div class="controls">
    <div class="crop-btn" onclick="selectCrop('üåæ',10)">–ü—à–µ–Ω–∏—Ü–∞</div>
    <div class="crop-btn" onclick="selectCrop('ü•ï',15)">–ú–æ—Ä–∫–æ–≤</div>
    <div class="crop-btn" onclick="selectCrop('üçÖ',20)">–î–æ–º–∞—Ç–∏</div>
  </div>
</div>

<script>
const grid = document.getElementById("grid");
let money = Number(localStorage.getItem("money")) || 500;
let fields = JSON.parse(localStorage.getItem("fields")) || Array(12).fill("");
let selected = null;
let price = 0;

document.getElementById("money").textContent = money;

function save() {
  localStorage.setItem("money", money);
  localStorage.setItem("fields", JSON.stringify(fields));
}

function render() {
  grid.innerHTML = "";
  fields.forEach((crop, i) => {
    const div = document.createElement("div");
    div.className = "field";
    div.textContent = crop;
    div.onclick = () => clickField(i);
    grid.appendChild(div);
  });
}

function selectCrop(c, p) {
  selected = c;
  price = p;
}

function clickField(i) {
  if (!fields[i] && selected && money >= price) {
    fields[i] = selected;
    money -= price;
  } else if (fields[i]) {
    fields[i] = "";
    money += 20;
  }
  document.getElementById("money").textContent = money;
  save();
  render();
}

render();
</script>

</body>
</html>
