<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</title>

<style>
*{box-sizing:border-box;font-family:sans-serif;}
body{
    margin:0;
    min-height:100vh;
    background:url("grass.JPG") repeat;
    background-size:200px 200px;
    display:flex;
    justify-content:center;
    align-items:center;
}

.game{
    width:100%;
    max-width:420px;
    background:#6fa44f;
    padding:16px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,.4);
}

h1{
    text-align:center;
    color:#fff;
    margin:5px 0;
}

.stats{
    text-align:center;
    color:#fff;
    font-size:18px;
    margin-bottom:10px;
}

.grid{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:10px;
    margin:15px 0;
    background:#5b8d41;
    padding:10px;
    border-radius:16px;
}

.plot{
    background:#7a4a22;
    border-radius:16px;
    height:70px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:34px;
    cursor:pointer;
    transition:.3s;
    animation:pop .4s ease;
}

.plot.grow{background:#8b5a2b;}
.plot.ready{background:#4caf50;}

@keyframes pop{
    from{transform:scale(.7);opacity:0;}
    to{transform:scale(1);opacity:1;}
}

.buttons{
    display:flex;
    gap:8px;
}

button{
    flex:1;
    padding:10px;
    border:none;
    border-radius:14px;
    font-size:16px;
    cursor:pointer;
}

.wheat{background:#fff;}
.carrot{background:#fff;}
.tomato{background:#fff;}
</style>
</head>

<body>
<div class="game">
<h1>üåæ –§–µ—Ä–º–∞ –û–Ω–ª–∞–π–Ω</h1>

<div class="stats">
üí∞ –ü–∞—Ä–∏: <span id="money">500</span> |
‚≠ê –ù–∏–≤–æ: <span id="level">1</span>
</div>

<div class="grid" id="grid"></div>

<div class="buttons">
<button class="wheat" onclick="selectCrop('wheat')">üåæ –ü—à–µ–Ω–∏—Ü–∞</button>
<button class="carrot" onclick="selectCrop('carrot')">ü•ï –ú–æ—Ä–∫–æ–≤</button>
<button class="tomato" onclick="selectCrop('tomato')">üçÖ –î–æ–º–∞—Ç–∏</button>
</div>
</div>

<script>
const grid=document.getElementById("grid");
let selected=null;

let game=JSON.parse(localStorage.getItem("farmGame")) || {
    money:500,
    level:1,
    exp:0,
    plots:Array(12).fill(null)
};

const crops={
    wheat:{time:5000,profit:20,icon:"üåæ"},
    carrot:{time:8000,profit:35,icon:"ü•ï"},
    tomato:{time:12000,profit:60,icon:"üçÖ"}
};

function save(){localStorage.setItem("farmGame",JSON.stringify(game));}

function render(){
    document.getElementById("money").textContent=game.money;
    document.getElementById("level").textContent=game.level;
    grid.innerHTML="";

    game.plots.forEach((p,i)=>{
        const d=document.createElement("div");
        d.className="plot";
        if(!p)d.onclick=()=>plant(i);
        else{
            const now=Date.now();
            if(now-p.start>=crops[p.type].time){
                d.classList.add("ready");
                d.textContent=crops[p.type].icon;
                d.onclick=()=>harvest(i);
            }else{
                d.classList.add("grow");
                d.textContent="üå±";
            }
        }
        grid.appendChild(d);
    });
}

function selectCrop(c){selected=c;}

function plant(i){
    if(!selected)return;
    if(game.money<10)return;
    game.money-=10;
    game.plots[i]={type:selected,start:Date.now()};
    save();render();
}

function harvest(i){
    const p=game.plots[i];
    game.money+=crops[p.type].profit;
    game.exp+=10;
    if(game.exp>=game.level*50){
        game.exp=0;
        game.level++;
    }
    game.plots[i]=null;
    save();render();
}

setInterval(render,1000);
render();
</script>
</body>
</html>
