<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ð¤ÐµÑ€Ð¼Ð° ÐžÐ½Ð»Ð°Ð¹Ð½</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: url("https://i.imgur.com/3ZQ3Z5K.jpg") no-repeat center center fixed;
  background-size: cover;
}

.game {
  max-width: 420px;
  margin: 20px auto;
  padding: 15px;
}

h1 {
  text-align: center;
  font-size: 32px;
  margin: 5px 0;
}

.money {
  text-align: center;
  font-size: 22px;
  margin-bottom: 10px;
}

.field {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 15px;
}

.plot {
  width: 100%;
  aspect-ratio: 1 / 1;
  background: linear-gradient(#8b5a2b, #6f421f);
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  cursor: pointer;
  transition: transform 0.2s;
}

.plot:active {
  transform: scale(0.95);
}

.grow {
  animation: grow 0.6s ease;
}

@keyframes grow {
  from { transform: scale(0.6); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.buttons {
  display: flex;
  justify-content: space-around;
}

button {
  font-size: 18px;
  padding: 10px;
  border-radius: 14px;
  border: none;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="game">
  <h1>ðŸŒ¾ Ð¤ÐµÑ€Ð¼Ð° ÐžÐ½Ð»Ð°Ð¹Ð½</h1>
  <div class="money">ðŸ’° <span id="money">500</span></div>

  <div class="field" id="field"></div>

  <div class="buttons">
    <button onclick="selectCrop('ðŸŒ¾', 20)">ÐŸÑˆÐµÐ½Ð¸Ñ†Ð°</button>
    <button onclick="selectCrop('ðŸ¥•', 30)">ÐœÐ¾Ñ€ÐºÐ¾Ð²</button>
    <button onclick="selectCrop('ðŸ…', 40)">Ð”Ð¾Ð¼Ð°Ñ‚Ð¸</button>
  </div>
</div>

<script>
let money = Number(localStorage.getItem("money")) || 500;
let fieldData = JSON.parse(localStorage.getItem("field")) || Array(9).fill(null);
let selected = null;

const field = document.getElementById("field");
const moneyEl = document.getElementById("money");

function save() {
  localStorage.setItem("money", money);
  localStorage.setItem("field", JSON.stringify(fieldData));
}

function render() {
  moneyEl.textContent = money;
  field.innerHTML = "";

  fieldData.forEach((crop, i) => {
    const div = document.createElement("div");
    div.className = "plot";
    if (crop) {
      div.textContent = crop.icon;
      div.onclick = () => harvest(i);
    } else {
      div.onclick = () => plant(i);
    }
    field.appendChild(div);
  });
}

function selectCrop(icon, profit) {
  selected = { icon, profit };
}

function plant(i) {
  if (!selected || fieldData[i]) return;
  fieldData[i] = selected;
  save();
  render();
}

function harvest(i) {
  money += fieldData[i].profit;
  fieldData[i] = null;
  save();
  render();
}

render();
</script>

</body>
</html>
